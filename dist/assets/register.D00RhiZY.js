import{j as e}from"./mui.Bkkoi8jQ.js";import{u as s,r,L as a}from"./vendor.7ih_MNs0.js";import{A as n}from"./AuthWrapper.CuSjkSa2.js";import{u as i,b as t,c as l,r as o}from"./index.B6-xA0SR.js";import{F as d,o as c,q as m,I as u,P as x,k as h,Q as p,B as j,s as g,V as f,S as y,j as b}from"./antd.ByzEhNMT.js";import"./index.BDJI3Hrc.js";const{Option:I}=x,v=()=>{const a=i(),n=s(),{loading:f}=t((e=>e.auth)),[y,b]=r.useState(0),[v]=d.useForm(),[w,N]=r.useState({}),P=[{title:"Basic Info",content:e.jsxs(c,{gutter:[16,16],children:[e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:"firstName",label:"First Name",rules:[{required:!0,message:"Please input your first name!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:"lastName",label:"Last Name",rules:[{required:!0,message:"Please input your last name!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,children:e.jsx(d.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be at least 6 characters!"}],children:e.jsx(u.Password,{size:"large"})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:"phoneNumber",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,children:e.jsx(d.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please input your address!"}],children:e.jsx(u.TextArea,{size:"large",rows:3})})})]})},{title:"User Type",content:e.jsx(c,{justify:"center",children:e.jsx(m,{xs:24,sm:16,children:e.jsx(d.Item,{name:"userType",label:"User Type",rules:[{required:!0,message:"Please select your user type!"}],children:e.jsxs(x,{size:"large",children:[e.jsx(I,{value:"petOwner",children:"Pet Owner"}),e.jsx(I,{value:"veterinarian",disabled:!0,children:"Veterinarian - Coming Soon"})]})})})})},{title:"Additional Info",content:e.jsx(d.Item,{noStyle:!0,shouldUpdate:(e,s)=>e.userType!==s.userType,children:({getFieldValue:s})=>"petOwner"===s("userType")?e.jsxs(c,{gutter:[16,16],children:[e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:["petOwnerInfo","preferredContactMethod"],label:"Preferred Contact Method",rules:[{required:!0,message:"Please select your preferred contact method!"}],children:e.jsxs(x,{size:"large",children:[e.jsx(I,{value:"phone",children:"Phone Call"}),e.jsx(I,{value:"text",children:"Text Message"})]})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{noStyle:!0,shouldUpdate:(e,s)=>{var r,a;return(null==(r=e.petOwnerInfo)?void 0:r.preferredContactMethod)!==(null==(a=s.petOwnerInfo)?void 0:a.preferredContactMethod)},children:({getFieldValue:s})=>{const r=s(["petOwnerInfo","preferredContactMethod"]);return e.jsx(d.Item,{name:["petOwnerInfo","contactInfo"],label:"Contact Information",rules:[{required:!0,message:`Please input your ${r||"contact"} information!`,type:"email"===r?"email":void 0,pattern:"phone"===r||"text"===r?/^\+?[1-9]\d{1,14}$/:void 0}],children:"phone"===r||"text"===r?e.jsx(u,{size:"large",placeholder:"Enter your phone number"}):e.jsx(u,{size:"large",placeholder:"Select contact method first",disabled:!0})})}})}),e.jsx(m,{xs:24,children:e.jsx(d.Item,{name:["petOwnerInfo","emergencyContact"],label:"Emergency Contact",rules:[{required:!0,message:"Please input emergency contact information!"}],children:e.jsx(u.TextArea,{size:"large",placeholder:"Name and contact information of emergency contact",rows:2})})}),e.jsx(m,{xs:24,children:e.jsx(d.Item,{name:["petOwnerInfo","veterinarian"],label:"Current Veterinarian Service Provider",children:e.jsx(u,{size:"large",placeholder:"Current veterinarian (if any)"})})})]}):"veterinarian"===s("userType")?e.jsxs(c,{gutter:[16,16],children:[e.jsx(m,{xs:24,children:e.jsx(d.Item,{name:["veterinarianInfo","clinic"],label:"Clinic Name",rules:[{required:!0,message:"Please input your clinic name!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:["veterinarianInfo","specialization"],label:"Specialization",rules:[{required:!0,message:"Please input your specialization!"}],children:e.jsx(u,{size:"large"})})}),e.jsx(m,{xs:24,sm:12,children:e.jsx(d.Item,{name:["veterinarianInfo","experience"],label:"Years of Experience",rules:[{required:!0,message:"Please input your years of experience!"}],children:e.jsx(u,{type:"number",size:"large"})})})]}):null})}];return e.jsxs(h,{className:"w-full border-none",children:[e.jsx("div",{className:"steps-container mb-4",children:e.jsx(p,{current:y,items:P.map((e=>({title:e.title}))),rootClassName:"custom-steps"})}),e.jsx("div",{className:"step-content",children:e.jsxs(d,{form:v,layout:"vertical",onFinish:async e=>{try{const s={...w,...e},r=["firstName","lastName","email","password","userType","phoneNumber","address"].filter((e=>!s[e]));if(r.length>0)return void g.error(`Please fill in all required fields: ${r.join(", ")}`);const i={firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password,userType:s.userType,phoneNumber:s.phoneNumber,address:s.address,...s.petOwnerInfo&&{petOwnerInfo:s.petOwnerInfo},...s.veterinarianInfo&&{veterinarianInfo:s.veterinarianInfo}};await a(o(i)).unwrap(),g.success("Registration successful!"),n("/dashboard")}catch(s){g.error(s.message||"Registration failed")}},onValuesChange:()=>a(l()),initialValues:w,children:[P[y].content,e.jsxs("div",{className:"button-container",children:[y>0?e.jsx(j,{onClick:()=>{b(y-1)},size:"large",children:"Previous"}):e.jsx("div",{}),y<P.length-1?e.jsx(j,{type:"primary",onClick:async()=>{try{if(0===y){const e=await v.validateFields(["firstName","lastName","email","password","phoneNumber","address"]);N((s=>({...s,...e})))}else if(1===y){const e=await v.validateFields(["userType"]);N((s=>({...s,...e})))}b(y+1)}catch(e){(e.errorFields||[]).length>0&&g.error("Please fill in all required fields for this step")}},size:"large",style:{backgroundColor:"#FF0080",borderColor:"#FF0080"},children:"Next"}):e.jsx(j,{type:"primary",htmlType:"submit",loading:f,size:"large",style:{backgroundColor:"#FF0080",borderColor:"#FF0080"},children:"Register"})]})]})})]})},{Title:w,Text:N}=b;function P(){return e.jsx(n,{children:e.jsx(f.Content,{style:{maxWidth:"100%",width:"100%",margin:"0 auto",padding:"0 16px"},children:e.jsxs(y,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs(y,{direction:"horizontal",justify:"space-between",align:"baseline",style:{width:"100%"},children:[e.jsx(w,{level:2,children:"Sign up"}),e.jsx(a,{to:"/login",style:{textDecoration:"none",color:"#FF0080"},children:e.jsx(N,{children:"Already have an account?"})})]}),e.jsx(v,{})]})})})}export{P as default};
