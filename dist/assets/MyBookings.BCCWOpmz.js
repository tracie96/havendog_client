import{j as e}from"./mui.Bkkoi8jQ.js";import{r as s}from"./vendor.7ih_MNs0.js";import{s as t,T as n,X as a,k as r,E as i,a4 as c,i as d,B as l,a6 as o}from"./antd.ByzEhNMT.js";const{TabPane:j}=n,h=()=>{const[h,x]=s.useState(!0),[p,g]=s.useState([]),[u,m]=s.useState([]);s.useEffect((()=>{f()}),[]);const f=async()=>{try{const[e,s]=await Promise.all([fetch("/api/bookings/boarding"),fetch("/api/bookings/vet")]),t=await e.json(),n=await s.json();g(t),m(n)}catch(e){t.error("Failed to fetch bookings")}finally{x(!1)}},y=async(e,s)=>{try{await fetch(`/api/bookings/${e}/cancel`,{method:"POST"}),t.success("Booking cancelled successfully"),f()}catch(n){t.error("Failed to cancel booking")}},b=e=>{switch(e.toLowerCase()){case"confirmed":return"green";case"pending":return"orange";case"cancelled":return"red";case"completed":return"blue";default:return"default"}};return e.jsxs("div",{children:[e.jsx("h2",{children:"My Bookings"}),e.jsxs(n,{defaultActiveKey:"boarding",children:[e.jsx(j,{tab:"Boarding Bookings",children:e.jsx(a,{loading:h,dataSource:p,renderItem:s=>e.jsx(a.Item,{children:e.jsx(r,{style:{width:"100%"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h3",{children:s.petName}),e.jsxs("p",{children:[e.jsx("strong",{children:"Boarder:"})," ",s.boarderName]}),e.jsxs("p",{children:[e.jsx(i,{})," ",new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx(c,{})," ",s.location]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rate:"})," $",s.rate,"/day"]})]}),e.jsxs("div",{children:[e.jsx(d,{color:b(s.status),children:s.status}),"pending"===s.status&&e.jsx(l,{danger:!0,onClick:()=>y(s.id),style:{marginTop:8},children:"Cancel"})]})]})})})})},"boarding"),e.jsx(j,{tab:"Veterinary Appointments",children:e.jsx(a,{loading:h,dataSource:u,renderItem:s=>e.jsx(a.Item,{children:e.jsx(r,{style:{width:"100%"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h3",{children:s.petName}),e.jsxs("p",{children:[e.jsx("strong",{children:"Veterinarian:"})," ",s.vetName]}),e.jsxs("p",{children:[e.jsx(i,{})," ",new Date(s.date).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx(o,{})," ",s.time]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",s.appointmentType]}),e.jsxs("p",{children:[e.jsx(c,{})," ",s.clinicName]})]}),e.jsxs("div",{children:[e.jsx(d,{color:b(s.status),children:s.status}),"pending"===s.status&&e.jsx(l,{danger:!0,onClick:()=>y(s.id),style:{marginTop:8},children:"Cancel"})]})]})})})})},"vet")]})]})};export{h as default};
